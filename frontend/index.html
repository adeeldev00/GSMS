<!DOCTYPE html>
<html>
  <head>
    <title>GSMS(Adeel)</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="csrf-token"
      content="kmapods5wQ5L1hn7rcR9OPst7EsN0gC7SrHh3m9K"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:400,300,600,700"
    />
    <link
      media="all"
      type="text/css"
      rel="stylesheet"
      href="css/bootstrap.min.css"
    />
    <link
      media="all"
      type="text/css"
      rel="stylesheet"
      href="css/style.css?v=1.0"
    />
    <link
      media="all"
      type="text/css"
      rel="stylesheet"
      href="css/sidebar-menu.css?v=1.0"
    />
    <link
      media="all"
      type="text/css"
      rel="stylesheet"
      href="css/custom.css?v=1.3.3"
    />
    <style>
      .modal.fade-scale {
        display: none; /* Hidden by default */
      }
      .modal.fade-scale.show {
        display: block; /* Shown when class 'show' is added */
      }

      /* Enhanced Database Loading Styles */
      .database-loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        opacity: 1;
        visibility: visible;
      }

      .database-loading-overlay.hide {
        opacity: 0;
        visibility: hidden;
        transition: all 0.5s ease;
      }

      .loading-content {
        text-align: center;
        color: white;
        max-width: 400px;
        padding: 40px;
      }

      .loading-logo {
        font-size: 48px;
        margin-bottom: 20px;
        animation: pulse 2s infinite;
      }

      .loading-title {
        font-size: 28px;
        font-weight: 600;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      }

      .loading-subtitle {
        font-size: 16px;
        margin-bottom: 40px;
        opacity: 0.9;
      }

      .progress-container {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 25px;
        padding: 8px;
        margin-bottom: 20px;
        backdrop-filter: blur(10px);
      }

      .progress-bar {
        height: 20px;
        background: linear-gradient(90deg, #00c851, #007e33);
        border-radius: 20px;
        width: 0%;
        transition: width 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .progress-bar::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
        animation: shimmer 2s infinite;
      }

      .progress-text {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 15px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      }

      .loading-status {
        font-size: 14px;
        opacity: 0.8;
        min-height: 20px;
      }

      .loading-dots::after {
        content: '';
        animation: dots 1.5s infinite;
      }

      @keyframes dots {
        0%, 20% { content: ''; }
        40% { content: '.'; }
        60% { content: '..'; }
        80%, 100% { content: '...'; }
      }

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
      }

      @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
      }

      .database-icon {
        display: inline-block;
        animation: rotate 3s linear infinite;
      }

      @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body class="tooltips">
    <!-- Database Loading Overlay -->
    <div class="database-loading-overlay" id="databaseLoader">
      <div class="loading-content">
        <div class="loading-logo">
          <i class="fas fa-database database-icon"></i>
        </div>
        <div class="loading-title">GSMS(Adeel)</div>
        <div class="loading-subtitle">Grocery Store Management System</div>
        
        <div class="progress-text" id="progressPercentage">0%</div>
        <div class="progress-container">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="loading-status" id="loadingStatus">
          Initializing system<span class="loading-dots"></span>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="header content rows-content-header">
        <button class="button-menu-mobile show-sidebar">
          <i class="fas fa-bars"></i>
        </button>
        <div class="navbar navbar-default" role="navigation">
          <div class="container">
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav visible-lg visible-md limit-chars">
                <li>
                  <div class="breadcrumb">
                    <a href="index.html" class="breadcrumb-item">
                      <i
                        class="zmdi zmdi-view-dashboard zmdi-hc-fw"
                        title="Orders"
                      ></i>
                      Dashboard
                    </a>
                    <a href="manage-product.html" class="breadcrumb-item">
                      <i
                        class="zmdi zmdi-assignment zmdi-hc-fw"
                        title="Products"
                      ></i>
                      Products
                    </a>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="right content-page">
        <div class="body content rows scroll-y">
          <form class="form-horizontal" action="">
            <div class="box-info full" id="taskFormContainer">
              <h2>Grocery Store Management System</h2>
              <div class="panel-body pt-0">
                <div class="row mb-4">
                  <div class="col-sm-12">
                    <a
                      href="order.html"
                      class="btn btn-sm btn-primary pull-right ml-3"
                    >
                      New Order
                    </a>
                    <a
                      href="manage-product.html"
                      class="btn btn-sm btn-primary pull-right"
                    >
                      Manage Products
                    </a>
                  </div>
                </div>
                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Order Number</th>
                      <th>Customer Name</th>
                      <th>Total Cost</th>
                    </tr>
                  </thead>
                  <tbody id="ordersTableBody">
                    <tr>
                      <td colspan="4" class="text-center">Loading orders...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </form>
          <div class="modal" id="userProfileModal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-body text-center">
                  <!-- Modal content here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Original Modal (kept for compatibility) -->
      <div
        class="modal fade-scale"
        id="myModal"
        role="dialog"
        data-backdrop="static"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-body text-center">
              <img
                src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="
                width="40"
                style="margin: 60px auto"
                alt="Loading..."
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Section -->
      <footer class="footer" style="background-color: transparent">
        <div class="container">
          <div class="text-center">
            <p>
              Â© 2025 Grocery Store Management System by <strong>Adeel</strong>
            </p>
          </div>
        </div>
      </footer>
    </div>

    <script src="js/packages/jquery.min.js"></script>
    <script src="js/custom/common.js"></script>
    <script src="js/custom/dashboard.js"></script>

    <script>
      // Database Loading System - Runs automatically on page load
      document.addEventListener('DOMContentLoaded', function() {
        const loader = document.getElementById('databaseLoader');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressPercentage');
        const statusText = document.getElementById('loadingStatus');
        
        let currentProgress = 0;
        const totalTime = 6000; // 6 seconds (you can adjust this to 30-40 seconds)
        const updateInterval = 200; // Update every 200ms
        const totalSteps = totalTime / updateInterval;
        const progressStep = 100 / totalSteps;
        
        // Loading stages with messages
        const loadingStages = [
          { progress: 10, message: 'Connecting to database' },
          { progress: 25, message: 'Loading user authentication' },
          { progress: 40, message: 'Fetching product catalog' },
          { progress: 55, message: 'Loading order history' },
          { progress: 70, message: 'Initializing inventory system' },
          { progress: 85, message: 'Preparing dashboard data' },
          { progress: 95, message: 'Finalizing system setup' },
          { progress: 100, message: 'System ready!' }
        ];
        
        let currentStageIndex = 0;
        
        function updateProgress() {
          currentProgress += progressStep;
          
          // Ensure we don't exceed 100%
          if (currentProgress > 100) {
            currentProgress = 100;
          }
          
          // Update progress bar and text
          progressBar.style.width = currentProgress + '%';
          progressText.textContent = Math.round(currentProgress) + '%';
          
          // Update status message based on progress
          if (currentStageIndex < loadingStages.length) {
            const currentStage = loadingStages[currentStageIndex];
            if (currentProgress >= currentStage.progress) {
              statusText.innerHTML = currentStage.message + '<span class="loading-dots"></span>';
              currentStageIndex++;
            }
          }
          
          // Continue updating until 100%
          if (currentProgress < 100) {
            setTimeout(updateProgress, updateInterval);
          } else {
            // Loading complete - hide loader after a brief delay
            setTimeout(function() {
              statusText.textContent = 'Loading complete! Welcome to GSMS';
              setTimeout(function() {
                loader.classList.add('hide');
                // Remove the loader from DOM after transition
                setTimeout(function() {
                  loader.remove();
                }, 500);
              }, 1000);
            }, 500);
          }
        }
        
        // Start the loading process
        updateProgress();
      });
    </script>
  </body>
</html>
